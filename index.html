<!doctype html>
<html lang="pt-Br">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <title>Formulario de Avaliação</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'/>

    <!-- CSS Files -->
    <link rel="stylesheet" href="./css/bootstrap.min.css"/>
    <link rel="stylesheet" href="./css/material-kit.css"/>
    <link rel="stylesheet" href="./css/material-icon/material-icons.css"/>
    <link rel="stylesheet" href="./css/roboto-fontface/css/roboto/roboto-fontface.css"/>
    <link rel="stylesheet" href="./css/app.css"/>

    <style>
        [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
            display: none !important;
        }
    </style>

</head>

<body class="signup-page" ng-app="Siscpa" ng-cloak>

<div class="wrapper">
    <div class="container" ng-controller="SiscpaController">
        <div class="row">
            <div class="col-lg-10 col-lg-offset-1">

                <div class="card card-signup">

                    <form class="form" action="">

                        <div class="header header-primary text-center">
                            <h4 class="text-uppercase">{{questionario.questionario_nome}} - {{questionario.tipo_usuario_nome}}</h4>
                        </div>

                        <div class="container-fluid">

                            <p class="text-divider text-justify desc">
                                É o processo avaliativo que faz a diferença, por ser este processo o instrumento que serve
                                para orientar as instituições na redefinição constante de seus objetivos, metas e
                                prioridades acadêmico/científicas e sociais. A Comissão Própria de Avaliação - CPA/UEMA
                                convida você a participar da autoavaliação e deste modo contribuir para o planejamento
                                futuro da sua universidade. Há um espaço no final do questionário para sugestões e críticas.
                            </p>

                            <p class="text-divider"></p>

                            <div class="panel panel-primary" ng-repeat="dimensao in questionario.dimensoes">
                                <div class="panel-heading">
                                    <span class="text-uppercase">{{dimensao.dimensao_ordem}} - {{dimensao.dimensao_nome}}</span>
                                </div>
                                <div class="panel-body panel-body-list">
                                    <ul class="list-group list-group-panel">
                                        <li class="list-group-item" ng-repeat="pergunta in dimensao.perguntas">
                                            <div class="row" ng-if="pergunta.tipo == 'pergunta'">
                                                <div class="col-sm-12 col-form">
                                                    <p class="p-list">
                                                        <strong>{{dimensao.dimensao_ordem}}.{{pergunta.pergunta_ordem}}
                                                            - </strong>{{pergunta.pergunta_nome}}
                                                    </p>
                                                </div>
                                                <div class="col-sm-12 col-form">
                                                    <div class="radio text-center">
                                                        <label ng-repeat="opcao in pergunta.opcoes">
                                                            <input type="radio" name="optionsRadios">
                                                            {{opcao.nome}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Quando for tópico-->
                                            <strong ng-if="pergunta.tipo == 'topico'">{{pergunta.topico_nome}}</strong>
                                        </li>

                                        <!--<li class="list-group-item text-center">-->
                                            <!--<strong>Classifique a qualidade dos conteúdos publicados:</strong>-->
                                        <!--</li>-->
                                        <!--<li class="list-group-item disabled">-->
                                            <!--<div class="row">-->
                                                <!--<div class="col-sm-10 col-form">-->
                                                    <!--<p class="p-list">-->
                                                        <!--<strong>2.2 - </strong>Avalie seu nível de conhecimento sobre o-->
                                                        <!--Plano de Desenvolvimento Institucional - PDI/UEMA.-->
                                                        <!--<span class="label label-primary"-->
                                                              <!--data-container="body"-->
                                                              <!--data-toggle="popover"-->
                                                              <!--data-trigger="hover"-->
                                                              <!--data-placement="bottom"-->
                                                              <!--data-content="Clique aqui para remover essa resposta.">-->
                                                            <!--Ótimo/Muito satisfeito &#10006;-->
                                                        <!--</span>-->
                                                    <!--</p>-->
                                                <!--</div>-->
                                                <!--<div class="col-sm-2 col-form">-->
                                                    <!--<div class="pull-right action-buttons">-->
                                                        <!--<a class="btn btn-list btn-raised btn-sm btn-primary dropdown-toggle" data-toggle="dropdown">-->
                                                            <!--Responda <i class="material-icons">done</i>-->
                                                        <!--</a>-->
                                                        <!--<ul class="dropdown-menu">-->
                                                            <!--<li><a class="active">Ótimo/Muito satisfeito</a></li>-->
                                                            <!--<li><a>Bom/Satisfeito</a></li>-->
                                                            <!--<li><a>Regular</a></li>-->
                                                            <!--<li><a>Ruim</a></li>-->
                                                            <!--<li><a>Não existe</a></li>-->
                                                        <!--</ul>-->
                                                    <!--</div>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</li>-->
                                        <!--<li class="list-group-item list-group-item-danger">-->
                                            <!--<div class="row">-->
                                                <!--<div class="col-sm-10 col-form">-->
                                                    <!--<p class="p-list">-->
                                                        <!--<strong>2.3 - </strong>Avalie seu nível de conhecimento sobre o-->
                                                        <!--Plano de Gestão anual (PGA) da UEMA.-->
                                                    <!--</p>-->
                                                <!--</div>-->
                                                <!--<div class="col-sm-2 col-form">-->
                                                    <!--<div class="pull-right action-buttons">-->
                                                        <!--<a class="btn btn-list btn-raised btn-sm btn-default dropdown-toggle" data-toggle="dropdown">-->
                                                            <!--Responda <i class="material-icons">keyboard_arrow_down</i>-->
                                                        <!--</a>-->
                                                        <!--<ul class="dropdown-menu">-->
                                                            <!--<li><a>Ótimo/Muito satisfeito</a></li>-->
                                                            <!--<li><a>Bom/Satisfeito</a></li>-->
                                                            <!--<li><a>Regular</a></li>-->
                                                            <!--<li><a>Ruim</a></li>-->
                                                            <!--<li><a>Não existe</a></li>-->
                                                        <!--</ul>-->
                                                    <!--</div>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</li>-->
                                    </ul>
                                </div>
                            </div>

                            <hr>

                            <div class="col-sm-12">
                                <strong>Observações:</strong>
                                <br>
                                <ol>
                                    <li>Caso haja dúvidas a respeito do que foi perguntado, ou tenha identificado
                                        alguma questão que não lhe parece pertinente, especifique o número da questão,
                                        bem como a natureza do problema encontrado. Sugira acréscimo ou supressões a
                                        este instrumento de avaliação. </li>
                                    <li>Dê sugestões para a melhoria do funcionamento da Instituição. A sua opinião é
                                        extremamente importante, pois este instrumento poderá ser reformulado para
                                        futuras avaliações.</li>
                                </ol>
                                <textarea class="form-control"
                                          placeholder="Escreva sua observação aqui"
                                          rows="5"></textarea>
                            </div>

                            <div class="col-sm-12 text-center">
                                <button class="btn btn-raised btn-danger">
                                    <i class="material-icons">clear</i> Cancelar Avaliação
                                </button>
                                <button class="btn btn-raised btn-success">
                                    <i class="material-icons">send</i> Realizar Avaliação
                                </button>
                            </div>

                        </div>

                        <p class="text-divider"></p>

                    </form>
                </div>
            </div>
        </div>
    </div>

</div>

</body>
<!--   Core JS Files   -->
<script src="./js/jquery.min.js" type="text/javascript"></script>
<script src="./js/bootstrap.min.js" type="text/javascript"></script>
<script src="./js/material.min.js"></script>

<!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
<script src="./js/material-kit.js" type="text/javascript"></script>
<script src="./bower_components/angular/angular.min.js" type="text/javascript"></script>

<script>
    var app = angular.module('Siscpa', []);

    app.service('SiscpaService', function ($http) {
        this.getQuestionario = function (scope) {
            $http.get('http://localhost/siscpa/wp-admin/admin-ajax.php?page=cpa_questionario&action=read&id=1')
                    .then(function (response) {
                        scope.questionario = response.data.data;
                        console.log(scope.questionario);
                    }, function (response) {
                        $scope.questionario = {};
                        console.log(response);
                    });
        };
    });

    app.controller('SiscpaController', function ($scope, SiscpaService) {
        SiscpaService.getQuestionario($scope);
    });

</script>

</html>
